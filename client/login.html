<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Palm-Mind</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="./scss/style.css">
</head>

<body>
  <!-- navbar section start -->
  <nav class="navbar navbar-expand-lg bg-body-tertiary">
    <div class="container">
      <a href="index.html" class="w-25"><img src="./images/logo.png" alt="logo" class="logo-pic" /></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0 text-md-center text-sm-center text-center text-lg-start">
          <li class="nav-item">
            <a class="nav-link active link-hov" aria-current="page" href="index.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link link-hov" href="#">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link link-hov" href="#">Features</a>
          </li>
          <li class="nav-item">
            <a class="nav-link link-hov" href="users.html">Users</a>
          </li>
        </ul>
        <div
          class="d-flex align-items-center gap-3 justify-content-between flex-column flex-sm-column flex-md-column flex-lg-row">
          <form class="d-flex" role="search">
            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-primary" type="submit">Search</button>
          </form>
          <a class="link-hov" href="login.html">Login</a>
          <a class="link-hov" href="register.html">Register</a>
        </div>
      </div>
    </div>
  </nav>
  <!-- navbar section end -->
  <section class="h-100 gradient-form" style="background-color: #eee;">
    <div class="container py-5 h-100">
      <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="toast" id="toast">
          <div class="toast-body">
            <span id="loginResponse"></span>
          </div>
        </div>
        <div class="col-xl-10">
          <div class="card rounded-3 text-black">
            <div class="row g-0">
              <div class="col-lg-6">
                <div class="card-body p-md-5 mx-md-4">

                  <div class="text-center">
                    <img src="./images/logo.png" style="width: 185px;" alt="logo">
                  </div>

                  <form>
                    <p class="text-center">Please login to your account</p>

                    <div class="d-flex flex-row align-items-center mb-4">
                      <i class="fas fa-envelope fa-lg me-3 fa-fw"></i>
                      <div class="form-outline mb-4">
                        <label class="form-label" for="email">Email</label>
                        <input type="email" id="email" class="form-control" placeholder="email address" />
                      </div>
                    </div>

                    <div class="d-flex flex-row align-items-center mb-4">
                      <i class="fas fa-key fa-lg me-3 fa-fw"></i>
                      <div class="form-outline mb-4">
                        <label class="form-label" for="password">Password</label>
                        <input type="password" id="password" class="form-control" placeholder="your password" />
                      </div>
                    </div>

                    <div class="text-center pt-1 mb-5 pb-1">
                      <button id="loginUser" class="p-3 btn btn-primary btn-block fa-lg gradient-custom-2 mb-3"
                        type="button">Login</button>
                      <a class="text-muted" href="#!">Forgot password?</a>
                    </div>

                    <div class="d-flex align-items-center justify-content-center pb-4">
                      <p class="mb-0 me-2">Don't have an account?</p>
                      <a href="register.html" class="btn btn-outline-danger">Create new</a>
                    </div>

                  </form>

                </div>
              </div>
              <div class="col-lg-6 d-flex align-items-center gradient-custom-2 login-right">
                <div class="text-white px-3 py-4 p-md-5 mx-md-4">
                  <h4 class="mb-4">We are more than just a company</h4>
                  <p class="small mb-0">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed
                    do eiusmod
                    tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                    quis nostrud
                    exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- footer section start -->
  <footer class="bg-body-tertiary text-center text-lg-start">
    <!-- Grid container -->
    <div class="container p-4">
      <!--Grid row-->
      <div class="row">
        <!--Grid column-->
        <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
          <h5 class="text-uppercase">Links</h5>

          <ul class="list-unstyled mb-0">
            <li>
              <a href="#!" class="text-body">Link 1</a>
            </li>
            <li>
              <a href="#!" class="text-body">Link 2</a>
            </li>
            <li>
              <a href="#!" class="text-body">Link 3</a>
            </li>
            <li>
              <a href="#!" class="text-body">Link 4</a>
            </li>
          </ul>
        </div>
        <!--Grid column-->

        <!--Grid column-->
        <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
          <h5 class="text-uppercase mb-0">Links</h5>

          <ul class="list-unstyled">
            <li>
              <a href="#!" class="text-body">Link 1</a>
            </li>
            <li>
              <a href="#!" class="text-body">Link 2</a>
            </li>
            <li>
              <a href="#!" class="text-body">Link 3</a>
            </li>
            <li>
              <a href="#!" class="text-body">Link 4</a>
            </li>
          </ul>
        </div>
        <!--Grid column-->

        <!--Grid column-->
        <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
          <h5 class="text-uppercase">Links</h5>

          <ul class="list-unstyled mb-0">
            <li>
              <a href="#!" class="text-body">Link 1</a>
            </li>
            <li>
              <a href="#!" class="text-body">Link 2</a>
            </li>
            <li>
              <a href="#!" class="text-body">Link 3</a>
            </li>
            <li>
              <a href="#!" class="text-body">Link 4</a>
            </li>
          </ul>
        </div>
        <!--Grid column-->

        <!--Grid column-->
        <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
          <h5 class="text-uppercase mb-0">Links</h5>

          <ul class="list-unstyled">
            <li>
              <a href="#!" class="text-body">Link 1</a>
            </li>
            <li>
              <a href="#!" class="text-body">Link 2</a>
            </li>
            <li>
              <a href="#!" class="text-body">Link 3</a>
            </li>
            <li>
              <a href="#!" class="text-body">Link 4</a>
            </li>
          </ul>
        </div>
        <!--Grid column-->
      </div>
      <!--Grid row-->
    </div>
    <!-- Grid container -->

    <!-- Copyright -->
    <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.05);">
      © 2020 Copyright:
      <a class="text-body" href="#">palmmind.com</a>
    </div>
    <!-- Copyright -->
  </footer>
  <!-- footer section end -->

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://kit.fontawesome.com/ad220e7578.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script>
    document.getElementById("loginUser").addEventListener("click", function () {
      //getting form data
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;

      //performing form validation
      if (!email || !password) {
        document.getElementById("loginResponse").innerText = "❌ Please fill all the fields";
        document.getElementById("toast").classList.add("show")
        setTimeout(function () {
          document.getElementById("toast").classList.remove('show')
        }, 3000)
      } else {
        axios.post("http://localhost:5000/login", {
          email: email,
          password: password
        })
          .then(function (response) {
            if (response.status === 200) {
              console.log(response.data.token)
              document.getElementById("loginResponse").innerText = "✅ " + response.data.msg;
              document.getElementById("toast").classList.add("show")
              setTimeout(function () {
                document.getElementById("toast").classList.remove('show')
                setTimeout(function () {
                  window.location.assign("index.html");
                }, 1000);
              }, 3000)
            } else {
              document.getElementById("loginResponse").innerText = "❌ " + response.data.msg;
              document.getElementById("toast").classList.add("show")
              setTimeout(function () {
                document.getElementById("toast").classList.remove('show')
              }, 3000)
            }
          })
          .catch(function (error) {
            if (error.response.status === 401) {
              document.getElementById("loginResponse").innerText = "❌ " + error.response.data.msg;
              document.getElementById("toast").classList.add("show");
              setTimeout(function () {
                document.getElementById("toast").classList.remove('show');
              }, 3000);
            } else {
              alert("An error occurred: " + error.response.data.msg);
            }
          });
      }
    })
  </script>
</body>

</html>